<span>
  <% if location.image.attached? %>
    <%= cl_image_tag location.image.key, class: "img-fluid" %>
  <% else %>
    No image available
  <% end %>
</span>

<div class="d-flex justify-content-between fav">
  <div class="location-info" style="text-decoration: none;">
    <h5><%= location.name %></h5>

    <% average_rating = location.reviews.average(:rating).to_f.round(1) %>
    <% full_stars = average_rating.to_i %>
    <% empty_stars = 5 - full_stars %>

    <span class="stars">
      <%= '★' * full_stars %>
      <%= '☆' * empty_stars %>
    </span>

    <p class="rating">Rating: <%= average_rating %></p>
  </div>

  <%= link_to "", location_path(location), class: "stretched-link" %>

  <span>
    <%= form_for [location, Favorite.new], url: location_favorites_path(location), method: :post do |f| %>
      <div class="d-flex ">
        <%= f.button type: 'submit', class: "btn p-0", style: "background-color: #1295B1;" do %>
          <i class="fa-solid fa-heart" style="color: white;"></i>
        <% end %>
      </div>
    <% end %>
  </span>

</div>
